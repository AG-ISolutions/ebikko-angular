<div layout="row" ng-cloak class="menu-bar">
    <md-sidenav class="site-sidenav md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="false">
        <md-toolbar class="md-whiteframe-z1">
        </md-toolbar>
        <md-list>
            <md-list-item ng-repeat="mi in menu.menuItems">
                <md-button id="mb_{{mi.id}}" ng-class="{'md-primary': menu.getSelectedTab() === mi}" ng-click="menu.selectMenuItem(mi)">{{mi.name | translate}}</md-button>
            </md-list-item>

            <md-button ng-click="menu.showAddRecord = !menu.showAddRecord">Add Record</md-button>
            <ul ng-class="{'menu-toggle-list': true, 'menu-toggle-visible': menu.showAddRecord, 'menu-toggle-hidden': !menu.showAddRecord}">
                <li ng-repeat="nodeType in menu.nodeTypes">
                    <md-button ng-click="menu.selectAddRecord(nodeType)">
                        {{nodeType.name}}
                    </md-button>
                </li>
            </ul>

        </md-list>
    </md-sidenav>
    <div flex layout="column" tabIndex="-1" role="main" class="md-whiteframe-z2">
        <md-toolbar layout="row" class="md-whiteframe-z1">
            <div layout="row" layout-align="center center" flex="2">
                <md-button class="menu" ng-click="menu.toggleSidebar()" aria-label="Show Menu">
                    <md-icon md-svg-icon="menu"></md-icon>
                </md-button>
            </div>
            <h1 flex="92" layout="row" layout-align="center">{{'Meeting Management System' | translate}}</h1>
            <div layout="row" layout-align="end center" flex="10" class="quickSearch">
                <input type="text" ng-model="menu.searchQuery" ng-keypress="($event.which === 13) ? menu.quickSearch() : 0" aria-label="Search" onblur="this.value=''">
            </div>
            <div layout="row" layout-align="center center" flex="2" class="menuButtons">
                <ebikko-settings-menu></ebikko-settings-menu>
            </div>
            <div flex="2"></div>
        </md-toolbar>
        <ebikko-tabs flex="grow" layout="column"></ebikko-tabs>
        <ebikko-node-menu ng-show="menu.getSelectedTab().type === 'node'"></ebikko-node-menu>
    </div>
</div>